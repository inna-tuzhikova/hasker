{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="h3">{{ question.caption }}</div>
<ul class="list-group list-group-flush pt-3">
  {% include 'questions/question_detail_card.html' %}
  {% for answer in page_obj %}
    {% include 'questions/answer_card.html' with answer=answer %}
  {% endfor %}
</ul>
{% include 'questions/pagination.html' %}
{% if user.is_authenticated %}
  <div class="h4">Your answer</div>
  <form method="post" action="{% url 'questions:question' pk=question.id %}">
  {% csrf_token %}
  {% for field in add_answer_form %}
    <div class="mb-3">
      <label
        for="{{ field.id_for_label }}"
        class="form-label">
          {{ field.label }}
      </label>
      {% if field.field.widget.input_type %}
        <input
          type="{{ field.field.widget.input_type }}"
          class="form-control"
          id="{{ field.id_for_label }}"
          name="{{ field.html_name }}"
          value="{{ field.value|default_if_none:"" }}">
      {% else %}
        <textarea
          class="form-control"
          id="{{ field.id_for_label }}"
          name="{{ field.html_name }}"
          value="{{ field.value|default_if_none:"" }}"
          rows="10"
          cols="40"></textarea>
      {% endif %}
      {% for error in field.errors %}
        <div class="error text-danger">{{ error }}</div>
      {% endfor %}
     </div>
  {% endfor %}
  <button type="submit" class="btn btn-primary">Submit</button>
  </form>
{% endif %}
{% endblock %}